================================================================================
                   CHECKLIST DE INSTALACI√ìN Y VERIFICACI√ìN
================================================================================

Usa este checklist para asegurar que todo est√° instalado correctamente.

================================================================================
FASE 1: PREPARACI√ìN PREVIA (Antes de ejecutar setup.py)
================================================================================

‚ñ° Tengo Python 3.7+ instalado
  Verificar: Abre cmd y escribe: python --version

‚ñ° Tengo una cuenta de Gmail activa
  Verificar: Accede a gmail.com

‚ñ° He creado una "Contrase√±a de Aplicaci√≥n" en Gmail
  Verificar: https://myaccount.google.com/apppasswords
  (No usar contrase√±a personal de Gmail)

‚ñ° Tengo los 6 archivos principales:
  ‚úì sales_extractor_v2.py
  ‚úì automation_service_v2.py
  ‚úì config.json
  ‚úì live_dashboard_v2.html
  ‚úì setup.py
  ‚úì requirements.txt

‚ñ° Todos los archivos est√°n en la MISMA carpeta
  (No en subcarpetas)

================================================================================
FASE 2: INSTALACI√ìN (Ejecutar setup.py)
================================================================================

‚ñ° He ejecutado: python setup.py
  En S√≠mbolo del Sistema (cmd) desde la carpeta del proyecto

‚ñ° El setup instal√≥ las dependencias correctamente
  Buscar en pantalla: "‚úÖ Dependencias instaladas correctamente"

‚ñ° El setup cre√≥ los directorios:
  ‚úì temp_pdfs/
  ‚úì logs/
  ‚úì data/

‚ñ° He ingresado mi email de Gmail cuando se pidi√≥

‚ñ° He ingresado mi contrase√±a de aplicaci√≥n (16 caracteres) correctamente

‚ñ° El setup guard√≥ la configuraci√≥n en config.json
  Verificar: Abre config.json y verifica que tu email est√© ah√≠

‚ñ° El setup cre√≥ la base de datos sales_data.db
  Verificar: Ves el archivo sales_data.db en la carpeta

================================================================================
FASE 3: VERIFICACI√ìN MANUAL (Prueba antes de automatizar)
================================================================================

‚ñ° He ejecutado una extracci√≥n manual:
  Comando: python -c "from sales_extractor_v2 import SalesDataExtractor; SalesDataExtractor().run_extraction_cycle()"

‚ñ° La extracci√≥n mostr√≥ mensajes de √©xito:
  Buscar: "Extracci√≥n autom√°tica iniciada"
  Buscar: "Extracci√≥n completada"

‚ñ° Se cre√≥ el archivo dashboard_data.json
  Verificar: Existe en la carpeta

‚ñ° Se cre√≥/actual√≥ el archivo sales_extractor.log
  Verificar: Existe en la carpeta

‚ñ° Los logs muestran:
  ‚úì "Emails extra√≠dos: X"
  ‚úì "Datos guardados: [ubicaci√≥n] - [fecha]"
  ‚úì "Extracci√≥n completada"

‚ñ° Abr√≠ live_dashboard_v2.html en el navegador
  Verificar: El dashboard carga sin errores

‚ñ° El dashboard muestra los 5 locales:
  ‚úì üè™ GG Vol 4
  ‚úì üç∫ GG Vol 2
  ‚úì üéì COLEGIO
  ‚úì ‚òï GROWLER CAFE (con ‚≠ê para 2 turnos)
  ‚úì üõ£Ô∏è GROWLER VIA VIEJA

‚ñ° El dashboard muestra datos:
  ‚úì Gr√°ficos con l√≠neas
  ‚úì Tarjetas con n√∫meros
  ‚úì Secciones de alertas

================================================================================
FASE 4: CONFIGURACI√ìN DE AUTOMATIZACI√ìN (Scheduler 4:00 AM)
================================================================================

SOLO PARA WINDOWS:

‚ñ° Abr√≠ "Programador de tareas" (taskschd.msc)

‚ñ° Cre√© una "Tarea b√°sica" con estos datos:
  ‚úì Nombre: "Extracci√≥n Ventas 4AM"
  ‚úì Descripci√≥n: "Extrae datos de MaxiREST autom√°ticamente"

‚ñ° Configur√© el "Desencadenador":
  ‚úì Tipo: Diariamente
  ‚úì Hora: 04:00 (4:00 AM)

‚ñ° Configur√© la "Acci√≥n":
  ‚úì Programa: python
  ‚úì Argumentos: -m automation_service_v2
  ‚úì Directorio: Carpeta del proyecto (C:\ruta\del\proyecto)

‚ñ° En "Condiciones":
  ‚úì DESACTIVADA: "Iniciar solo si est√° enchufado"

‚ñ° La tarea aparece en "Biblioteca del Programador"
  Verificar: Ves "Extracci√≥n Ventas 4AM" en la lista

‚ñ° La tarea est√° "Habilitada" (no desactivada)
  Verificar: No tiene una X roja

---

SOLO PARA macOS:

‚ñ° Cre√© el archivo launchd en: ~/Library/LaunchAgents/com.ventas.extractor.plist

‚ñ° El archivo contiene la configuraci√≥n correcta:
  ‚úì Label: com.ventas.extractor
  ‚úì Hour: 4
  ‚úì Minute: 0

‚ñ° Ejecut√©: launchctl load ~/Library/LaunchAgents/com.ventas.extractor.plist

‚ñ° No hubo errores en la ejecuci√≥n

---

SOLO PARA LINUX:

‚ñ° Ejecut√©: crontab -e

‚ñ° Agregu√© la l√≠nea:
  0 4 * * * cd /ruta/proyecto && python3 -m automation_service_v2

‚ñ° La l√≠nea est√° correctamente indentada (sin # al inicio)

‚ñ° Guard√© el archivo (Ctrl+O, Enter, Ctrl+X)

‚ñ° El cron se guard√≥ exitosamente

================================================================================
FASE 5: VERIFICACI√ìN FINAL
================================================================================

‚ñ° Verifica los archivos de configuraci√≥n:

  config.json:
  ‚úì email.username = tu email de Gmail
  ‚úì email.password = tu contrase√±a de aplicaci√≥n (NO contrase√±a personal)
  ‚úì scheduler.extraction_time = "04:00"
  ‚úì 5 locales listados en "locations"

  sales_extractor_v2.py:
  ‚úì Contiene "Sucursal:" en el c√≥digo
  ‚úì Contiene mappeo de los 5 locales

  automation_service_v2.py:
  ‚úì Contiene ".at("04:00").do"
  ‚úì NO contiene ".hour.do"

  live_dashboard_v2.html:
  ‚úì Contiene 5 tarjetas (GG Vol 4, GG Vol 2, COLEGIO, GROWLER, VIEJA)
  ‚úì Contiene l√≠neas "GROWLER CAFE" con ‚≠ê

‚ñ° Verifica los logs:

  sales_extractor.log:
  ‚úì Muestra extracciones recientes
  ‚úì No muestra errores de autenticaci√≥n
  ‚úì Identifica correctamente "Sucursal:"

  automation_service.log:
  ‚úì Muestra "Servicio de automatizaci√≥n inicializado"
  ‚úì Muestra horario: "04:00"

================================================================================
FASE 6: PRUEBAS ESPEC√çFICAS DE FUNCIONAMIENTO
================================================================================

PRUEBA 1: Identificaci√≥n de Locales

‚ñ° Tengo un PDF de cada local (5 PDFs totales)

‚ñ° Cada PDF contiene el campo "Sucursal:" correctamente:
  ‚úì PDF 1: Sucursal: GG Vol 4
  ‚úì PDF 2: Sucursal: GG
  ‚úì PDF 3: Sucursal: COLEGIO
  ‚úì PDF 4: Sucursal: GROWLER
  ‚úì PDF 5: Sucursal: GROWLER VV

‚ñ° Ejecut√© extracci√≥n manual y todos los locales fueron identificados:
  ‚úì Log muestra "Ubicaci√≥n identificada por Sucursal: XXX"
  ‚úì 5 registros en la BD (uno por local)

---

PRUEBA 2: Manejo de 2 Turnos

‚ñ° Tengo 2 PDFs de GROWLER CAFE (uno Tarde, uno Noche)

‚ñ° Ejecut√© extracci√≥n y ambos se guardaron en la BD:
  ‚úì Mismo local, misma fecha, DISTINTO shift
  ‚úì BD tiene: GROWLER CAFE - Tarde
  ‚úì BD tiene: GROWLER CAFE - Noche

‚ñ° El dashboard muestra ambos turnos combinados

---

PRUEBA 3: Datos Completos

‚ñ° La BD contiene todos estos campos por cada reporte:
  ‚úì date
  ‚úì location
  ‚úì shift
  ‚úì total_sales
  ‚úì total_tickets
  ‚úì cash_sales, card_sales, transfer_sales, mercadopago_sales
  ‚úì salon_sales, counter_sales
  ‚úì opening_time, closing_time
  ‚úì closure_number

---

PRUEBA 4: Dashboard Din√°mico

‚ñ° Abr√≠ live_dashboard_v2.html m√∫ltiples veces

‚ñ° El dashboard carga datos de dashboard_data.json

‚ñ° Los gr√°ficos se renderean correctamente:
  ‚úì Gr√°fico de l√≠neas (Tendencia)
  ‚úì Gr√°fico de anillo (Formas de pago)
  ‚úì Gr√°fico de barras (Comparativa por local)

‚ñ° Las tarjetas de los 5 locales muestran datos correctos

‚ñ° El timestamp "√öltima actualizaci√≥n" es reciente

================================================================================
FASE 7: VERIFICACI√ìN A LARGO PLAZO
================================================================================

(Estas pruebas se hacen DESPU√âS de que el sistema funcione por unos d√≠as)

‚ñ° La BD contiene hist√≥rico de m√∫ltiples d√≠as
  Verificar: SELECT COUNT(*) FROM sales_data; (m√∫ltiples registros)

‚ñ° El scheduler ejecut√≥ autom√°ticamente el 2024-02-11 a las 4:00 AM
  Verificar: Logs muestran timestamp 04:00

‚ñ° El dashboard muestra datos de m√∫ltiples d√≠as
  Verificar: Gr√°ficos tienen 7+ puntos

‚ñ° Las alertas se generan autom√°ticamente
  Verificar: dashboard_data.json contiene alertas

‚ñ° Sin errores en los logs despu√©s de m√∫ltiples ejecuciones
  Verificar: sales_extractor.log es limpio

================================================================================
SOLUCI√ìN DE PROBLEMAS - QU√â HACER SI ALGO FALLA
================================================================================

‚ùå "ERROR: No se encuentran emails"
   ‚Üí Verifica que tengas emails de MaxiREST en Gmail
   ‚Üí Verifica que el asunto contenga "MaxiREST" o "FINTURNO"
   ‚Üí Revisa logs: sales_extractor.log

‚ùå "ERROR: Ubicaci√≥n no identificada"
   ‚Üí Abre el PDF en editor de texto
   ‚Üí Busca "Sucursal:"
   ‚Üí Verifica que coincida con tabla en CAMBIOS_v2.0.txt
   ‚Üí Agrega mapeo manual en config.json si es necesario

‚ùå "ERROR: No se puede conectar a Gmail"
   ‚Üí Verifica contrase√±a de aplicaci√≥n (no contrase√±a personal)
   ‚Üí Verifica que el email est√© correcto
   ‚Üí Habilita "Acceso de aplicaciones" en Gmail

‚ùå "Dashboard vac√≠o"
   ‚Üí Ejecuta extracci√≥n manual primero
   ‚Üí Verifica que dashboard_data.json exista
   ‚Üí Abre consola F12 para ver errores JavaScript

‚ùå "Tarea programada no ejecuta"
   ‚Üí Windows: Abre Task Scheduler, haz clic derecho en tarea, "Ejecutar"
   ‚Üí Verifica que la ruta de la carpeta sea correcta
   ‚Üí Revisa "Historial" en Task Scheduler para ver errores

================================================================================
CHECKLIST FINAL
================================================================================

Si todos los puntos anteriores tienen ‚úì:

‚úÖ Sistema completamente instalado
‚úÖ Configuraci√≥n verificada
‚úÖ Automatizaci√≥n funcionando
‚úÖ Dashboard operativo
‚úÖ Datos siendo extra√≠dos

üéâ ¬°LISTO PARA PRODUCCI√ìN!

El sistema extraer√° autom√°ticamente datos a las 4:00 AM cada d√≠a,
y tu dashboard se actualizar√° en tiempo real.

================================================================================

Fecha de instalaci√≥n: ______________
Responsable: ______________
Estado final: ‚úÖ OK / ‚ùå Revisar

Notas:
_____________________________________________________________________________
_____________________________________________________________________________
_____________________________________________________________________________

================================================================================
